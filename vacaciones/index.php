<!DOCTYPE html>

<html lang="en">



<head>


  <meta charset="utf-8" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>♥ Vacaciones Anddi y Tomy ♥</title>

  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"> -->

  <link rel="preconnect" href="https://fonts.googleapis.com">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Sacramento&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Didact+Gothic&display=swap" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">


</head>



<body>

  <section class="container">

    <h1>♥ Vacaciones Anddi y Tomy ♥</h1>



    <!-- <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">

  <div class="carousel-inner">

    <div class="carousel-item active">

      <img src="..." class="d-block w-100" alt="...">

    </div>

    <div class="carousel-item">

      <img src="..." class="d-block w-100" alt="...">

    </div>

    <div class="carousel-item">

      <img src="..." class="d-block w-100" alt="...">

    </div>

  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">

    <span class="carousel-control-prev-icon" aria-hidden="true"></span>

    <span class="visually-hidden">Previous</span>

  </button>

  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">

    <span class="carousel-control-next-icon" aria-hidden="true"></span>

    <span class="visually-hidden">Next</span>

  </button>

</div> -->

    <img src="img/amor.jpg" class="polaroid">

    <div class="countdown">

      <div>

        <p id="days"></p>

        <span>Dias</span>

      </div>

      <div>

        <p id="hours"></p>

        <span>Horas</span>

      </div>

      <div>

        <p id="minutes"></p>

        <span>Minutos</span>

      </div>

      <div>

        <p id="seconds"></p>

        <span>Segundos</span>

      </div>

    </div>

    <div id="imagenMotivacional">

      <img id="imgMotiv" src="https://pbs.twimg.com/media/C82AvQkXcAAXq7U.jpg">



    </div>

    <div>

      <h1>Recorrido</h1>

      <iframe src="https://www.google.com/maps/embed?pb=!1m58!1m12!1m3!1d3217764.39072076!2d-63.39072220359556!3d-38.038976048342384!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m43!3e0!4m5!1s0x95920b676c98ebab%3A0x71e5c114c0fbe961!2sTres%20Arroyos%2C%20Provincia%20de%20Buenos%20Aires!3m2!1d-38.4410896!2d-60.3964505!4m5!1s0x95ea2626903b5a33%3A0x46c9d09f697a25b3!2sCarhu%C3%A9%2C%20Provincia%20de%20Buenos%20Aires!3m2!1d-37.1795093!2d-62.7601738!4m5!1s0x95eceecaad346b1f%3A0xc32bb114493c92a5!2sSierra%20de%20la%20Ventana%2C%20Provincia%20de%20Buenos%20Aires!3m2!1d-38.139328!2d-61.7941399!4m5!1s0x958d5290cbca6087%3A0x6250958d52aefc8a!2sMonte%20Hermoso%2C%20Provincia%20de%20Buenos%20Aires!3m2!1d-38.9878667!2d-61.287566999999996!4m5!1s0x95920b676c98ebab%3A0x71e5c114c0fbe961!2sTres%20Arroyos%2C%20Provincia%20de%20Buenos%20Aires!3m2!1d-38.4410896!2d-60.3964505!4m5!1s0x958fbd434330e9e9%3A0x7f7c099276fb322!2sNecochea%2C%20Provincia%20de%20Buenos%20Aires!3m2!1d-38.554496799999995!2d-58.7396088!4m5!1s0x95926dac16830a99%3A0x580d8b216f434c9e!2sTres%20Arroyos%2C%20Provincia%20de%20Buenos%20Aires!3m2!1d-38.3775437!2d-60.275229499999995!5e0!3m2!1ses!2sar!4v1706030845012!5m2!1ses!2sar" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>



      <h1>Itinerario</h1>

      <iframe src="https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23D81B60&ctz=UTC&mode=WEEK&hl=es&src=ZTJiMmRjZTZiZjMzYzg4NGFjNGEwMTFkMjljZDM1MzljMTQ1MzM0OWYxNTJkNTk1YmNhMjdjMWEwNTA4YjM1ZUBncm91cC5jYWxlbmRhci5nb29nbGUuY29t&src=ZXMuYXIjaG9saWRheUBncm91cC52LmNhbGVuZGFyLmdvb2dsZS5jb20&color=%23D81B60&color=%230B8043" style="border:solid 1px #777" width="800" height="600" frameborder="0" scrolling="no"></iframe>

    </div>




    <div class="container">
      <?php
      foreach ($categorias as $categoria) {
        if ($categoria)

      ?>
        <div class="shopping">
          <h2 class="shopping__title"><?php echo $categoria["nombre"]; ?></h2>

          <ul class="shopping__checklist">
            <?php foreach ($articulos as $articulo) {
              // Verificar si el artículo pertenece a la categoría actual
              if ($articulo["id_categoria"] == $categoria["id"]) { ?>
                <li class="shopping__item">
                  <input type="checkbox" id="articulo_<?php echo $articulo["id"] ?>" class="shopping__check" data-articulo-id="<?php echo $articulo["id"] ?>" />
                  <label for="articulo_<?php echo $articulo["id"] ?>" class="shopping__label"><?php echo $articulo["nombre"] ?></label>
                </li>
            <?php }
            } ?>
          </ul>
        </div>
      <?php } ?>
    </div>

    <div class="form container mt-5">
      <h2 class="mb-4">Agregar Artículo</h2>
      <form method="post" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]); ?>" class="needs-validation" novalidate>
        <div class="form-group">
          <label for="nombre">Nombre:</label>
          <input type="text" id="nombre" name="nombre" class="form-control" required>
          <div class="invalid-feedback">Por favor, introduce el nombre del artículo.</div>
        </div>

        <div class="form-group">
          <label for="categoria">Categoría:</label>
          <select id="categoria" name="categoria" class="form-control" required>
            <option value="-" selected disabled>Seleccione una categoria </option>
            <?php
            foreach ($categorias as $categoria) {
              echo "<option value='" . $categoria["id"] . "'>" . $categoria["nombre"] . "</option>";
            }
            ?>
          </select>
          <div class="invalid-feedback">Por favor, selecciona una categoría.</div>
        </div>

        <button type="submit" class="btn btn-primary">Agregar</button>
      </form>

    </div>
  </section>

  <section class="final-sms">

    <h2>¡VACACIONES! </h2>

  </section>

  <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script> -->



  <script>
    const $days = document.getElementById('days'),

      $hours = document.getElementById('hours'),

      $minutes = document.getElementById('minutes'),

      $seconds = document.getElementById('seconds'),

      $finalMessage = document.querySelector('.final-sms');



    //Fecha a futuro

    const countdownDate = new Date('02 10, 2024 19:00:00').getTime();



    let interval = setInterval(function() {

      //Obtener fecha actual y milisegundos

      const now = new Date().getTime();



      //Obtener las distancias entre ambas fechas

      let distance = countdownDate - now;



      //Calculos a dias-horas-minutos-segundos

      let days = Math.floor(distance / (1000 * 60 * 60 * 24));

      let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));

      let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

      let seconds = Math.floor((distance % (1000 * 60)) / (1000));



      //Escribimos resultados

      $days.innerHTML = days;

      $hours.innerHTML = hours;

      $minutes.innerHTML = minutes;

      $seconds.innerHTML = ('0' + seconds).slice(-2);



      //Cuando llegue a 0

      if (distance < 0) {

        clearInterval(interval);

        $finalMessage.style.transform = 'translateY(0)';

      }

    }, 1000);
  </script>



  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

  <script>
    $(".shopping__item").on("click", function() {

      var articuloId = $(this).find(".shopping__check").data("articulo-id");



      // Obtener el valor actual de "agregado" del elemento

      var agregado = $(this).find(".shopping__check").prop("checked") ? 1 : 0;

      console.log(agregado);



      // Hacer la solicitud Ajax al servidor para actualizar el campo "agregado"

      $.ajax({

        url: "vacacionesController.php",

        type: "POST",

        data: {
          action: "updateAgregado",
          articuloId: articuloId,
          nuevoValor: 1 - agregado
        },

        dataType: "json",

        success: function(response) {

          // console.log(response);

          // Verificar si la actualización fue exitosa antes de realizar cambios en el DOM

          if (response.success) {

            // Actualizar el estilo del elemento

            $(this).find(".shopping__label").toggleClass("agregado", response.nuevoValor == 1);

            // Cambiar el estado "checked" del checkbox

            $(this).find(".shopping__check").prop("checked", response.nuevoValor == 1);

          } else {

            console.error("Error en la actualización del campo 'agregado'");

          }

        },

        error: function(error) {

          console.log(error);

          console.error(error);

        }

      });

    });
  </script>



</body>



</html>



<style>
  * {

    padding: 0;

    margin: 0;

    box-sizing: border-box;

  }



  body {

    display: grid;

    place-items: center;

    font-size: 50px;

    /* font-family: 'Share Tech Mono', monospace; */

    /* font-family: 'Great Vibes', cursive; */

    font-family: 'Sacramento', cursive;

    background-color: rgb(252, 149, 213);

  }



  .container {

    font-family: 'Didact Gothic', sans-serif;
    width: 100%;

    min-height: 100vh;

    display: flex;

    align-items: center;

    justify-content: center;

    flex-direction: column;
    font-size: medium;

  }

.form{
  background-color: #fff;
  border-radius: 15px;
  color: rgb(247, 82, 185);
  align-items: center;
}

.btn-primary{
  background-color: rgb(247, 82, 185);
  border-color: rgb(247, 82, 185);
}

  #imagenMotivacional {

    margin: 3rem;

    width: 100%;

    display: flex;

    justify-content: center;

    /* background: url('https://pbs.twimg.com/media/C82AvQkXcAAXq7U.jpg'); */

  }



  #imgMotiv {

    border-radius: 100px;

    width: 300px;

    height: 300px;

  }



  .countdown {

    display: flex;

    justify-content: space-evenly;

    width: 50%;

    flex-wrap: wrap;

  }



  .countdown div {

    display: grid;

    place-items: center;

    padding: 10px;

  }



  h1 {

    text-align: center;

    color: #fff;

    font-size: 4rem;

    padding: 30px 10px;

  }



  p {

    display: grid;

    place-items: center;

    /* border: solid 1px #fff; */

    height: 100px;

    width: 100px;

    border-radius: 50%;

    color: #fff;

    font-size: 2rem;

    font-weight: bold;

    background-color: rgb(247, 82, 185)
  }



  span {

    display: block;

    padding: 10px;

    text-align: center;

    color: #fff;

    font-size: 2rem;

    font-weight: 400;

  }



  .final-sms {

    position: absolute;

    left: 0;

    right: 0;

    top: 0;

    bottom: 0;

    display: grid;

    place-items: center;

    transform: translateY(-100%);

    transition: ease-in-out 0.5s;

    background-color: #333;

  }



  .final-sms h2 {

    text-align: center;

    font-size: 100px;

    color: #fff;

  }



  /*lista*/

  .shopping {

    font-family: 'Didact Gothic', sans-serif;

    font-size: 2rem;

    padding: 2.4em 2em;

    margin: 2rem;

    /* display: grid; */



    background: white;

    box-shadow: 2px 0 15px -2px rgba(0, 0, 0, 0.2);



    border-radius: 12px;



    min-width: 300px;

  }



  .shopping__title {

    font-size: 1.4em;

    font-weight: 700;



    text-align: center;



    padding-bottom: 1em;



    border-bottom: 4px dotted var(--primary-color);

    color: var(--primary-color);

  }



  .shopping__checklist {

    display: grid;

    list-style-type: none;

  }



  /* Shopping List */

  /*  =========== */

  /*  =========== */



  .shopping__item {

    display: flex;

    align-items: center;

    gap: 0.6em;

  }





  .shopping__check {

    appearance: none;

    cursor: pointer;



    margin-top: 1px;

    padding: 3px;



    aspect-ratio: 1/1;

    height: 1.2em;



    border: 1px solid var(--primary-color);

    border-radius: 4px;

  }



  .shopping__label {

    user-select: none;

    cursor: pointer;

    color: rgb(247, 82, 185);

    flex-grow: 1;

  }


  /* 
  .shopping__label.color-mas-oscuro {

    color: rgb(247, 82, 185);

} */



  .shopping__check:checked {

    /* background: var(--primary-color); */

    background-clip: content-box;



    opacity: 0.4;

  }

  .shopping__label.agregado {

    color: rgb(252, 149, 213);

    text-decoration: line-through;

    opacity: 0.8;

  }

  .shopping__check:checked+.shopping__label {

    /* text-decoration: */

    /* pink 2px; */

    color: rgb(252, 149, 213);

    opacity: 0.3;

  }



  /* imagen con tomy */

  .polaroid {

    position: relative;

    max-width: 200px;

    /* Ajusta el ancho máximo según tus preferencias */

    /* margin: 50px auto; */

    padding: 20px;

    background-color: #fff;

    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);

    border-radius: 10px;

    overflow: hidden;

  }



  .polaroid img {

    width: 50%;

    height: auto;

    display: block;

    border-radius: 5px;

    margin-bottom: 10px;

  }



  .polaroid::before {

    content: '';

    position: absolute;

    top: 0;

    left: 0;

    right: 0;

    bottom: 0;

    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);

    z-index: -1;

    border-radius: 10px;

  }
</style>